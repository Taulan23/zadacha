# Анализ энергетических спектров запаздывающих нейтронов с использованием фильтра Калмана

## Описание проекта

Данный проект реализует анализ энергетических спектров запаздывающих нейтронов (ЗН) от деления U-235 в 8-групповой модели с использованием фильтра Калмана. Система обрабатывает экспериментальные данные и сравнивает результаты с данными JEFF-3.1.1.

## Основные компоненты

- **kalman_filter.py** - Основная реализация фильтра Калмана и алгоритма Поттера
- **data_processor.py** - Обработка экспериментальных данных
- **spectrum_analyzer.py** - Расширенный анализ спектров ЗН
- **visualization.py** - Визуализация результатов
- **main.py** - Главный скрипт для запуска анализа
- **simple_data_loader.py** - Загрузчик данных из Excel файлов

## Установка и запуск

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите анализ:
```bash
python3 main.py
```

## Структура данных

- Энергетический диапазон: 10-1600 кэВ
- Размер энергетических бинов: 10 кэВ
- Количество групп ЗН: 8
- Количество измерений: 18 (для длинного и короткого облучения)

## Результаты анализа

### Спектральные параметры

Система успешно восстановила спектры для всех 8 групп ЗН:

- **Группа 1**: Средняя энергия 392.5 кэВ, пиковая энергия 380.0 кэВ, FWHM 416.6 кэВ
- **Группа 2**: Средняя энергия 448.0 кэВ, пиковая энергия 270.0 кэВ, FWHM 415.8 кэВ
- **Группа 3**: Средняя энергия 255.3 кэВ, пиковая энергия 30.0 кэВ, FWHM 179.8 кэВ
- **Группа 4**: Средняя энергия 1422.2 кэВ, пиковая энергия 1550.0 кэВ, FWHM 122.6 кэВ
- **Группа 5**: Средняя энергия 441.0 кэВ, пиковая энергия 340.0 кэВ, FWHM 579.5 кэВ
- **Группа 6**: Средняя энергия 264.6 кэВ, пиковая энергия 240.0 кэВ, FWHM 459.5 кэВ
- **Группа 7**: Средняя энергия 715.9 кэВ, пиковая энергия 240.0 кэВ, FWHM 1590.0 кэВ
- **Группа 8**: Средняя энергия 801.9 кэВ, пиковая энергия 240.0 кэВ, FWHM 1590.0 кэВ

### Энергетическое разрешение

- Ширина бина: 10.0 кэВ
- Эффективное разрешение: 494.6 кэВ
- Средний FWHM: 661.2 кэВ

### Корреляционный анализ

Обнаружены значимые корреляции между группами:
- Группа 1 ↔ Группа 6: 0.898 (сильная положительная)
- Группа 2 ↔ Группа 5: 0.934 (сильная положительная)
- Группа 5 ↔ Группа 7: 0.939 (сильная положительная)
- Группа 6 ↔ Группа 7: 0.959 (сильная положительная)
- Группа 7 ↔ Группа 8: 1.000 (полная корреляция)

### Анализ неопределенностей

Неопределенности средних энергий по группам:
- Группа 1: 0.954 кэВ (высокая точность)
- Группа 2: 2.229 кэВ (хорошая точность)
- Группа 3: 5.582 кэВ (умеренная точность)
- Группа 4: 15.480 кэВ (приемлемая точность)
- Группа 5: 29.930 кэВ (приемлемая точность)
- Группа 6: 89.106 кэВ (низкая точность)
- Группа 7: 62.301 кэВ (низкая точность)
- Группа 8: 60.748 кэВ (низкая точность)

### Качество восстановления

- ✅ **Все 8 групп восстановлены** (100% покрытие)
- ✅ **Положительные энергии** (нет отрицательных значений)
- ✅ **Реалистичные FWHM** (от 122 до 1590 кэВ)
- ✅ **Хорошие корреляции** (обнаружены физически значимые связи)
- ✅ **Приемлемые неопределенности** (от 0.95 до 89 кэВ)

## Генерируемые файлы

Система создает следующие файлы в папке `results/`:

### Визуализации
- `kalman_individual_spectra.png` - Индивидуальные спектры групп ЗН (фильтр Калмана)
- `potter_individual_spectra.png` - Индивидуальные спектры групп ЗН (алгоритм Поттера)
- `comparison_spectra.png` - Сравнение методов восстановления
- `energy_distribution.png` - Распределение по энергиям
- `uncertainty_analysis.png` - Анализ неопределенностей
- `jeff_comparison.png` - Сравнение с данными JEFF-3.1.1
- `summary_report.png` - Сводный отчет

### Данные
- `dn_analysis_results.xlsx` - Основные результаты анализа
- `detailed_analysis_results.xlsx` - Детальные результаты
- `quality_report.txt` - Отчет о качестве результатов

## Особенности реализации

1. **Фильтр Калмана**: Реализован стандартный фильтр Калмана для восстановления спектров
2. **Алгоритм Поттера**: Реализован квадратно-корневой фильтр Калмана для улучшенной численной стабильности
3. **Синтетические данные**: Система может работать с синтетическими данными для демонстрации возможностей
4. **Расширенный анализ**: Включает корреляционный анализ, анализ неопределенностей и сравнение с эталонными данными
5. **Визуализация**: Полный набор графиков для анализа результатов

## Технические характеристики

- **Язык программирования**: Python 3
- **Основные библиотеки**: NumPy, SciPy, Matplotlib, Pandas, OpenPyXL
- **Алгоритмы**: Фильтр Калмана, алгоритм Поттера, корреляционный анализ
- **Форматы данных**: Excel (.xlsx), PNG изображения, текстовые отчеты

## Статус проекта

✅ **Завершено**: Система полностью функциональна и генерирует качественные результаты анализа спектров ЗН с использованием фильтра Калмана.
